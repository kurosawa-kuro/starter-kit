# WSL Ubuntuç’°å¢ƒã§Claude-Code + Serenaã‚’å°å…¥ã™ã‚‹ã‚¬ã‚¤ãƒ‰

## ç›®æ¬¡
1. [æ¦‚è¦](#æ¦‚è¦)
2. [ãƒ¡ãƒªãƒƒãƒˆ](#ãƒ¡ãƒªãƒƒãƒˆ)
3. [å‰ææ¡ä»¶](#å‰ææ¡ä»¶)
4. [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †](#ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †)
5. [è¨­å®šã¨èµ·å‹•](#è¨­å®šã¨èµ·å‹•)
6. [ä½¿ã„æ–¹](#ä½¿ã„æ–¹)
7. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)

## æ¦‚è¦

Serenaã¯ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®MCPã‚µãƒ¼ãƒãƒ¼ã§ã€Claude-Codeã®èƒ½åŠ›ã‚’å¤§å¹…ã«æ‹¡å¼µã—ã¾ã™ã€‚Language Server Protocol (LSP)ã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒ¼ãƒ‰ã‚’ã‚·ãƒ³ãƒœãƒ«ãƒ¬ãƒ™ãƒ«ã§ç†è§£ã—ã€IDEã®ã‚ˆã†ãªé«˜åº¦ãªæ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

## ãƒ¡ãƒªãƒƒãƒˆ

### ğŸš€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š
- **ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãªã‚³ãƒ¼ãƒ‰ç†è§£**: ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ã§ã¯ãªãã€æ§‹é€ çš„ãªã‚³ãƒ¼ãƒ‰ç†è§£
- **åŠ¹ç‡çš„ãªã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†**: å¿…è¦ãªéƒ¨åˆ†ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ãƒˆãƒ¼ã‚¯ãƒ³æ¶ˆè²»ã‚’å‰Šæ¸›
- **é«˜é€ŸãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**: å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚è¿…é€Ÿã«ç›®çš„ã®ã‚³ãƒ¼ãƒ‰ã‚’ç™ºè¦‹

### ğŸ’° ã‚³ã‚¹ãƒˆå‰Šæ¸›
- **ç„¡æ–™ã§ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹**: APIã‚­ãƒ¼ã‚„è¿½åŠ èª²é‡‘ä¸è¦
- **ãƒˆãƒ¼ã‚¯ãƒ³åŠ¹ç‡**: APIã‚³ã‚¹ãƒˆã‚’50-80%å‰Šæ¸›å¯èƒ½
- **æœ‰æ–™IDEã®ä»£æ›¿**: Cursorã€Windsurfç­‰ã®æœˆé¡èª²é‡‘ä¸è¦

### ğŸ› ï¸ å¼·åŠ›ãªæ©Ÿèƒ½
- **å¤šè¨€èªã‚µãƒãƒ¼ãƒˆ**: Pythonã€TypeScriptã€Goã€Rustã€C#ã€Javaç­‰
- **ç²¾å¯†ãªç·¨é›†**: ã‚·ãƒ³ãƒœãƒ«å˜ä½ã§ã®æ­£ç¢ºãªã‚³ãƒ¼ãƒ‰å¤‰æ›´
- **ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**: è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¾ãŸãŒã‚‹å¤‰æ›´ã‚‚å®‰å…¨ã«å®Ÿè¡Œ

## å‰ææ¡ä»¶

- WSL2 (Ubuntu 20.04ä»¥é™)
- Node.js 18ä»¥ä¸Š
- Git
- Anthropic APIã‚­ãƒ¼ï¼ˆClaude-Codeç”¨ï¼‰

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †

### 1. uvã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# uvã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
curl -LsSf https://astral.sh/uv/install.sh | sh

# ãƒ‘ã‚¹ã‚’è¨­å®šï¼ˆ.bashrcã«è¿½åŠ ï¼‰
echo 'export PATH="$HOME/.local/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc

# å‹•ä½œç¢ºèª
uv --version
```

### 2. Claude-Codeã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# Claude-Codeã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -g @anthropic-ai/claude-code

# å‹•ä½œç¢ºèª
claude --version
```

### 3. Serenaã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# Serenaã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/oraios/serena
cd serena

# è¨­å®šãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
mkdir -p ~/.serena

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼
cp src/serena/resources/serena_config.template.yml ~/.serena/serena_config.yml

# å‹•ä½œç¢ºèª
uv run serena-mcp-server --help
```

## è¨­å®šã¨èµ·å‹•

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§å®Ÿè¡Œ

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd ~/your-project

# Claude-Codeã«Serenaã‚’è¿½åŠ ï¼ˆWSLç’°å¢ƒç”¨ï¼‰
claude mcp add serena -- wsl -e /home/$USER/.local/bin/uv run --directory /home/$USER/serena serena-mcp-server --context ide-assistant --project $(pwd)
```

### 2. Claude-Codeã®èµ·å‹•

```bash
# Claude-Codeã‚’èµ·å‹•
claude

# åˆå›ã®ã¿ï¼šSerenaã®åˆæœŸè¨­å®šã‚’èª­ã¿è¾¼ã¿
/mcp__serena__initial_instructions
```

### 3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆï¼ˆæ¨å¥¨ï¼‰

```bash
# å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã€äº‹å‰ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§é«˜é€ŸåŒ–
uv run --directory ~/serena index-project
```

## ä½¿ã„æ–¹

### åŸºæœ¬çš„ãªã‚³ãƒãƒ³ãƒ‰ä¾‹

```bash
# ã‚·ãƒ³ãƒœãƒ«æ¤œç´¢
"find the getUserById function"

# ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
"rename all occurrences of oldFunctionName to newFunctionName"

# å®Ÿè£…ã®è¿½åŠ 
"add error handling to the database connection function"

# ãƒ†ã‚¹ãƒˆä½œæˆ
"create unit tests for the UserService class"
```

### åŠ¹æœçš„ãªä½¿ã„æ–¹

1. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ãƒˆ**
   ```
   "Activate the project /path/to/project"
   ```

2. **ãƒ¡ãƒ¢ãƒªã®æ´»ç”¨**
   ```
   "Create a memory about the current architecture"
   ```

3. **è¨ˆç”»çš„ãªä½œæ¥­**
   ```
   "Plan the refactoring of the authentication module"
   ```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. ãƒ‘ã‚¹ãŒé€šã‚‰ãªã„
```bash
# æ‰‹å‹•ã§ãƒ‘ã‚¹ã‚’ç¢ºèª
which uv
# å‡ºåŠ›ãŒãªã„å ´åˆã¯å†åº¦ãƒ‘ã‚¹ã‚’è¨­å®š
export PATH="$HOME/.local/bin:$PATH"
```

#### 2. ãƒ—ãƒ­ã‚»ã‚¹ãŒæ®‹ã‚‹
```bash
# Serenaãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª
ps aux | grep serena

# å¿…è¦ã«å¿œã˜ã¦çµ‚äº†
pkill -f serena
```

#### 3. Webãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: http://localhost:24282/dashboard/index.html
- è¤‡æ•°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®å ´åˆ: ãƒãƒ¼ãƒˆ24283, 24284...ã‚’è©¦ã™

### ãƒ­ã‚°ã®ç¢ºèª

```bash
# ãƒ­ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
ls ~/.serena/logs/

# æœ€æ–°ã®ãƒ­ã‚°ã‚’ç¢ºèª
tail -f ~/.serena/logs/$(date +%Y-%m-%d)/mcp_*.txt
```

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **Gitã®æ´»ç”¨**: ä½œæ¥­å‰ã«ã‚¯ãƒªãƒ¼ãƒ³ãªçŠ¶æ…‹ã‹ã‚‰é–‹å§‹
2. **é©åˆ‡ãªæ§‹é€ åŒ–**: è‰¯ã„æ§‹é€ ã®ã‚³ãƒ¼ãƒ‰ã»ã©åŠ¹æœçš„
3. **å‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³**: å‹•çš„å‹ä»˜ã‘è¨€èªã§ã‚‚å‹ãƒ’ãƒ³ãƒˆã‚’æ´»ç”¨
4. **ãƒ†ã‚¹ãƒˆã®å……å®Ÿ**: Serenaã¯å®Ÿè¡Œçµæœã‹ã‚‰å­¦ç¿’

## ã¾ã¨ã‚

Serena + Claude-Codeã®çµ„ã¿åˆã‚ã›ã«ã‚ˆã‚Šï¼š
- âœ… ç„¡æ–™ã§å¼·åŠ›ãªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ
- âœ… å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚é«˜é€Ÿãƒ»æ­£ç¢º
- âœ… APIã‚³ã‚¹ãƒˆã‚’å¤§å¹…å‰Šæ¸›
- âœ… æœ‰æ–™IDEã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ä¸è¦

ã“ã‚Œã§ã€WSL Ubuntuç’°å¢ƒã§æœ€å¼·ã®AIã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç’°å¢ƒãŒæ§‹ç¯‰ã§ãã¾ã™ã€‚